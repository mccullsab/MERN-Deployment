{"ast":null,"code":"import _toConsumableArray from\"/Users/abbymcculloch/Documents/Coding Dojo/mern/full_stack_mern/mern_belt_exam/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/abbymcculloch/Documents/Coding Dojo/mern/full_stack_mern/mern_belt_exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link,useNavigate}from'react-router-dom';import DeleteButton from'../components/DeleteButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var nav=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),storeList=_useState2[0],setStoreList=_useState2[1];var removeFromDom=function removeFromDom(storeToDelete){setStoreList(storeList.filter(function(store){return store._id!==storeToDelete;}));};useEffect(function(){axios.get('http://localhost:8000/api/stores').then(function(res){setStoreList(res.data.store);// check that we get the data before display\nconsole.log(res);}).catch(function(err){return console.log(err);});},[]);var sortedItems=function sortedItems(){var sortedCategory=_toConsumableArray(storeList).sort(function(a,b){if(a.number<b.number){return-1;}if(a.number>b.number){return 1;}return 0;});setStoreList(sortedCategory);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-weight-bold\",children:\"Name\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"font-weight-bold\",children:[\"Number\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary ml-3\",onClick:sortedItems,children:\"Sort\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"font-weight-bold\",children:\"Open\"}),/*#__PURE__*/_jsx(\"td\",{className:\"font-weight-bold\",children:\"Remove\"})]}),storeList&&storeList.map(function(store,indx){return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/stores/\".concat(store._id),children:store.name})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-1\",children:store.number}),/*#__PURE__*/_jsx(\"td\",{className:\"p-1\",children:store.open?'True':'False'}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle\",children:store.open?/*#__PURE__*/_jsx(DeleteButton,{storeId:store._id,successCallback:function successCallback(){return removeFromDom(store._id);}}):''})]},indx);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success ml-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/stores/new\",className:\"text-decoration-none\",children:\"Add a Store\"})})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useNavigate","DeleteButton","jsx","_jsx","jsxs","_jsxs","Dashboard","nav","_useState","_useState2","_slicedToArray","storeList","setStoreList","removeFromDom","storeToDelete","filter","store","_id","get","then","res","data","console","log","catch","err","sortedItems","sortedCategory","_toConsumableArray","sort","a","b","number","children","className","onClick","map","indx","to","concat","name","open","storeId","successCallback"],"sources":["/Users/abbymcculloch/Documents/Coding Dojo/mern/full_stack_mern/mern_belt_exam/client/src/views/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom'\nimport DeleteButton from '../components/DeleteButton';\n\n\nconst Dashboard = () => {\n    const nav = useNavigate();\n    const [storeList, setStoreList] = useState()\n\n    const removeFromDom = (storeToDelete) => {\n        setStoreList(storeList.filter((store) => store._id !== storeToDelete))\n    }\n\n    useEffect(() => {\n        axios.get('http://localhost:8000/api/stores')\n            .then((res) => {\n                setStoreList(res.data.store)\n                // check that we get the data before display\n                console.log(res)\n            })\n            .catch((err) => console.log(err));\n    }, [])\n\n    const sortedItems = () => {\n        const sortedCategory = [...storeList].sort((a, b) => {\n            if (a.number < b.number) {\n                return -1\n            }\n            if (a.number > b.number) {\n                return 1\n            }\n            return 0\n        }\n        )\n        setStoreList(sortedCategory)\n    }\n\n    return (\n        <div>\n            <table className='table'>\n                <tbody>\n                    <tr className='text-center'>\n                        <td className='font-weight-bold'>Name\n                        </td>\n                        <td className='font-weight-bold'>Number\n                            <button className='btn btn-secondary ml-3' onClick={sortedItems}>Sort</button>\n                        </td>\n                        <td className='font-weight-bold'>Open</td>\n                        <td className='font-weight-bold'>Remove</td>\n                    </tr>\n                    {storeList && storeList.map((store, indx) => (\n                        <tr key={indx} className='text-center'>\n                            <td><Link to={`/stores/${store._id}`}>{store.name}</Link></td>\n                            <td className='p-1'>{store.number}</td>\n                            <td className='p-1'>{store.open ? 'True' : 'False'}</td>\n                            <td className='align-middle'>\n                            {store.open ? <DeleteButton storeId={store._id} successCallback={() => removeFromDom(store._id)}/> :'' }\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n            <div className='d-flex'>\n                <button className='btn btn-success ml-5'><Link to='/stores/new' className='text-decoration-none'>Add a Store</Link></button>\n            </div>\n        </div>\n    )\n}\n\nexport default Dashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}