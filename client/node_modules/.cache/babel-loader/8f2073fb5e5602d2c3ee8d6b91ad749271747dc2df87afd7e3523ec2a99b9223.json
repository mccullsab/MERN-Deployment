{"ast":null,"code":"import _toConsumableArray from\"/Users/abbymcculloch/Documents/Coding Dojo/mern/full_stack_mern/mern_belt_exam/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/abbymcculloch/Documents/Coding Dojo/mern/full_stack_mern/mern_belt_exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link,useNavigate}from'react-router-dom';import StoreForm from'../components/StoreForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePage=function CreatePage(){var nav=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),formErrors=_useState2[0],setFormErrors=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),storeList=_useState4[0],setStoreList=_useState4[1];var createStore=function createStore(newStore){axios.post('http://localhost:8000/api/stores',newStore).then(function(results){console.log(results);setStoreList([].concat(_toConsumableArray(storeList),[results.data.store]));nav('/');}).catch(function(err){console.log(err);var errorResponse=err.response.data.error.errors;var errorArr=[];for(var key in errorResponse){// console.log(errorResponse[key].message)\nerrorArr.push(errorResponse[key].message);setFormErrors(errorArr);}});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Store Finder\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go Back Home\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Add a new store!\"}),storeList&&/*#__PURE__*/_jsx(StoreForm,{useForm:createStore,store:{name:'',open:'false',number:0}}),formErrors&&formErrors.map(function(val,i){return/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:val});})]})});};export default CreatePage;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useNavigate","StoreForm","jsx","_jsx","jsxs","_jsxs","CreatePage","nav","_useState","_useState2","_slicedToArray","formErrors","setFormErrors","_useState3","_useState4","storeList","setStoreList","createStore","newStore","post","then","results","console","log","concat","_toConsumableArray","data","store","catch","err","errorResponse","response","error","errors","errorArr","key","push","message","children","className","to","useForm","name","open","number","map","val","i"],"sources":["/Users/abbymcculloch/Documents/Coding Dojo/mern/full_stack_mern/mern_belt_exam/client/src/views/CreatePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom'\n\nimport StoreForm from '../components/StoreForm';\n\n\nconst CreatePage = () => {\n    const nav = useNavigate();\n    const [formErrors, setFormErrors] = useState([]);\n    const [storeList, setStoreList] = useState([])\n\n    const createStore = (newStore) => {\n        axios\n            .post('http://localhost:8000/api/stores', newStore)\n            .then((results) => {\n                console.log(results);\n                setStoreList([...storeList, results.data.store])\n                nav('/');\n            })\n            .catch((err) => {\n                console.log(err)\n                const errorResponse = err.response.data.error.errors\n                const errorArr = []\n                for (const key in errorResponse) {\n                    // console.log(errorResponse[key].message)\n                    errorArr.push(errorResponse[key].message)\n                    setFormErrors(errorArr);\n                }\n            })\n    };\n\n    return (\n        <div>\n            <div className=''>\n                <div className=''>\n                    <h2>Store Finder</h2>\n                    <Link to='/'>Go Back Home</Link>\n                </div>\n                <p>Add a new store!</p>\n                {storeList && <StoreForm useForm={createStore} store={{ name: '', open: 'false', number: 0 }} />}\n                {formErrors && formErrors.map((val, i) =>\n                    <p className='text-danger'>{val}</p>)}\n            </div>\n        </div>\n    )\n}\n\nexport default CreatePage;"],"mappings":"8VAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAEpD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGhD,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACrB,GAAM,CAAAC,GAAG,CAAGP,WAAW,EAAE,CACzB,IAAAQ,SAAA,CAAoCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAAkCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAE9B,GAAM,CAAAG,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,QAAQ,CAAK,CAC9BpB,KAAK,CACAqB,IAAI,CAAC,kCAAkC,CAAED,QAAQ,CAAC,CAClDE,IAAI,CAAC,SAACC,OAAO,CAAK,CACfC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC,CACpBL,YAAY,IAAAQ,MAAA,CAAAC,kBAAA,CAAKV,SAAS,GAAEM,OAAO,CAACK,IAAI,CAACC,KAAK,GAAE,CAChDpB,GAAG,CAAC,GAAG,CAAC,CACZ,CAAC,CAAC,CACDqB,KAAK,CAAC,SAACC,GAAG,CAAK,CACZP,OAAO,CAACC,GAAG,CAACM,GAAG,CAAC,CAChB,GAAM,CAAAC,aAAa,CAAGD,GAAG,CAACE,QAAQ,CAACL,IAAI,CAACM,KAAK,CAACC,MAAM,CACpD,GAAM,CAAAC,QAAQ,CAAG,EAAE,CACnB,IAAK,GAAM,CAAAC,GAAG,GAAI,CAAAL,aAAa,CAAE,CAC7B;AACAI,QAAQ,CAACE,IAAI,CAACN,aAAa,CAACK,GAAG,CAAC,CAACE,OAAO,CAAC,CACzCzB,aAAa,CAACsB,QAAQ,CAAC,CAC3B,CACJ,CAAC,CAAC,CACV,CAAC,CAED,mBACI/B,IAAA,QAAAmC,QAAA,cACIjC,KAAA,QAAKkC,SAAS,CAAC,EAAE,CAAAD,QAAA,eACbjC,KAAA,QAAKkC,SAAS,CAAC,EAAE,CAAAD,QAAA,eACbnC,IAAA,OAAAmC,QAAA,CAAI,cAAY,EAAK,cACrBnC,IAAA,CAACJ,IAAI,EAACyC,EAAE,CAAC,GAAG,CAAAF,QAAA,CAAC,cAAY,EAAO,GAC9B,cACNnC,IAAA,MAAAmC,QAAA,CAAG,kBAAgB,EAAI,CACtBvB,SAAS,eAAIZ,IAAA,CAACF,SAAS,EAACwC,OAAO,CAAExB,WAAY,CAACU,KAAK,CAAE,CAAEe,IAAI,CAAE,EAAE,CAAEC,IAAI,CAAE,OAAO,CAAEC,MAAM,CAAE,CAAE,CAAE,EAAG,CAC/FjC,UAAU,EAAIA,UAAU,CAACkC,GAAG,CAAC,SAACC,GAAG,CAAEC,CAAC,qBACjC5C,IAAA,MAAGoC,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAEQ,GAAG,EAAK,GAAC,GACvC,EACJ,CAEd,CAAC,CAED,cAAe,CAAAxC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}